if(!customElements.get('quick-add-modal')){customElements.define('quick-add-modal',class QuickAddModal extends ModalDialog{constructor(){super();this.modalContent=this.querySelector('[id^="QuickAddInfo-"]')}hide(preventFocus=!1){const t=document.querySelector('cart-notification')||document.querySelector('cart-drawer');t&&t.setActiveElement(this.openedBy),this.modalContent.innerHTML='',preventFocus&&(this.openedBy=null),super.hide()}show(t){t.setAttribute('aria-disabled',!0),t.classList.add('loading'),t.querySelector('.loading-overlay__spinner').classList.remove('hidden'),fetch(t.getAttribute('data-product-url')).then((t=>t.text())).then((t=>{const e=(new DOMParser).parseFromString(t,'text/html');this.productElement=e.querySelector('section[id^="MainProduct-"]'),this.preventDuplicatedIDs(),this.removeDOMElements(),this.setInnerHTML(this.modalContent,this.productElement.innerHTML),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),window.ProductModel&&ProductModel.loadShopifyXR(),this.removeGalleryListSemantic(),this.updateImageSizes(),this.preventVariantURLSwitching(),super.show(t)})).finally((()=>{t.removeAttribute('aria-disabled'),t.classList.remove('loading'),t.querySelector('.loading-overlay__spinner').classList.add('hidden')}))}setInnerHTML(t,e){t.innerHTML=e,t.querySelectorAll('script').forEach((t=>{const e=document.createElement('script');Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)}))}preventVariantURLSwitching(){const t=this.modalContent.querySelector('variant-radios,variant-selects');t&&t.setAttribute('data-update-url','false')}removeDOMElements(){const t=this.productElement.querySelector('pickup-availability');t&&t.remove();const e=this.productElement.querySelector('product-modal');e&&e.remove();const s=this.productElement.querySelectorAll('modal-dialog');s&&s.forEach((t=>t.remove()))}preventDuplicatedIDs(){const t=this.productElement.dataset.section;this.productElement.innerHTML=this.productElement.innerHTML.replaceAll(t,`quickadd-${t}`),this.productElement.querySelectorAll('variant-selects, variant-radios, product-info').forEach((e=>{e.dataset.originalSection=t}))}removeGalleryListSemantic(){const t=this.modalContent.querySelector('[id^="Slider-Gallery"]');t&&(t.setAttribute('role','presentation'),t.querySelectorAll('[id^="Slide-"]').forEach((t=>t.setAttribute('role','presentation'))))}updateImageSizes(){const t=this.modalContent.querySelector('.product');if(!t||!t.classList.contains('product--columns'))return;const e=t.querySelectorAll('.product__media img');if(!e.length)return;let s='(min-width: 1000px) 715px, (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)';t.classList.contains('product--medium')&&(s=s.replace('715px','605px')),t.classList.contains('product--small')&&(s=s.replace('715px','495px')),e.forEach((t=>t.setAttribute('sizes',s)))}})};
